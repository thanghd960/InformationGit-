/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
!function(){"use strict";function e(e){e&&(e.classList.remove("vscode-light","vscode-dark","vscode-high-contrast"),e.classList.add(a.activeTheme))}function t(){return document.getElementById("active-frame")}function n(){return document.getElementById("pending-frame")}function o(e){if(e&&e.view&&e.view.document)for(var t=e.target;t;){if(t.tagName&&"a"===t.tagName.toLowerCase()&&t.href){var n=e.view.document.getElementsByTagName("base")[0];if("#"===t.getAttribute("href"))e.view.scrollTo(0,0);else if(t.hash&&(t.getAttribute("href")===t.hash||n&&t.href.indexOf(n.href)>=0)){var o=e.view.document.getElementById(t.hash.substr(1,t.hash.length-1));o&&o.scrollIntoView()}else s.sendToHost("did-click-link",t.href);e.preventDefault();break}t=t.parentNode}}function i(e){if(d)return;const t=e.target.body.scrollTop/e.target.body.clientHeight;isNaN(t)||(d=!0,window.requestAnimationFrame(function(){try{s.sendToHost("did-scroll",t)}catch(e){}d=!1}))}const s=require("electron").ipcRenderer;var c,l=!0,r=[];const a={initialScrollProgress:void 0};var d=!1;document.addEventListener("DOMContentLoaded",function(){s.on("baseUrl",function(e,t){a.baseUrl=t}),s.on("styles",function(n,o,i){a.styles=o,a.activeTheme=i;var s=t();if(s){e(s.contentDocument.getElementsByTagName("body")[0]);var c=s.contentDocument.getElementById("_defaultStyles");c&&(c.innerHTML=a.styles)}}),s.on("focus",function(){const e=t();e&&e.contentWindow.focus()}),s.on("content",function(d,u){const m=u.options,f=u.contents.join("\n"),h=(new DOMParser).parseFromString(f,"text/html"),g={scriptTags:h.documentElement.querySelectorAll("script").length,inputTags:h.documentElement.querySelectorAll("input").length,styleTags:h.documentElement.querySelectorAll("style").length,linkStyleSheetTags:h.documentElement.querySelectorAll("link[rel=stylesheet]").length,stringLen:f.length};if(a.baseUrl&&0===h.head.getElementsByTagName("base").length){const e=h.createElement("base");e.href=a.baseUrl,h.head.appendChild(e)}const v=h.createElement("style");v.id="_defaultStyles",v.innerHTML=a.styles,h.head.hasChildNodes()?h.head.insertBefore(v,h.head.firstChild):h.head.appendChild(v),e(h.body);const y=t();var b;if(l)l=!1,b=function(e){isNaN(a.initialScrollProgress)||0===e.scrollTop&&(e.scrollTop=e.clientHeight*a.initialScrollProgress)};else{const e=y&&y.contentDocument&&y.contentDocument.body?y.contentDocument.body.scrollTop:0;b=function(t){0===t.scrollTop&&(t.scrollTop=e)}}const p=n();p&&(p.setAttribute("id",""),document.body.removeChild(p)),r=[];const w=document.createElement("iframe");w.setAttribute("id","pending-frame"),w.setAttribute("frameborder","0"),w.setAttribute("sandbox",m.allowScripts?"allow-scripts allow-forms allow-same-origin":"allow-same-origin"),w.style.cssText="display: block; margin: 0; overflow: hidden; position: absolute; width: 100%; height: 100%; visibility: hidden",document.body.appendChild(w),w.contentDocument.open("text/html","replace"),w.contentWindow.onbeforeunload=function(){return console.log("prevented webview navigation"),!1};var T=function(e,s){e.body&&(b(e.body),e.body.addEventListener("click",o));const c=n();if(c&&c.contentDocument===e){const e=t();e&&document.body.removeChild(e),c.setAttribute("id","active-frame"),c.style.visibility="visible",s.addEventListener("scroll",i),r.forEach(function(e){s.postMessage(e,document.location.origin)}),r=[]}};clearTimeout(c),c=void 0,c=setTimeout(function(){clearTimeout(c),c=void 0,T(w.contentDocument,w.contentWindow)},200),w.contentWindow.addEventListener("load",function(e){c&&(clearTimeout(c),c=void 0,T(e.target,this))}),w.contentDocument.write("<!DOCTYPE html>"),w.contentDocument.write(h.documentElement.innerHTML),w.contentDocument.close(),s.sendToHost("did-set-content",g)}),s.on("message",function(e,o){if(n())r.push(o);else{const e=t();e&&e.contentWindow.postMessage(o,document.location.origin)}}),s.on("initial-scroll-position",function(e,t){a.initialScrollProgress=t}),window.onmessage=function(e){s.sendToHost(e.data.command,e.data.data)},s.sendToHost("webview-ready",process.pid)})}();
//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/41abd21afdf7424c89319ee7cb0445cc6f376959/core/vs/workbench/parts/html/browser/webview-pre.js.map
